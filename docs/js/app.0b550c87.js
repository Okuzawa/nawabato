(function(){"use strict";var t={3198:function(t,e,s){var c=s(9963),o=s(6252),n=s(3577),A=s(2262),a=(s(7658),s(3907)),r=(0,a.MT)({state:{isLoading:!0,currentDeck:0,db_deck_list:[],blocks:[],cardList:[]},getters:{getBlockSrc:t=>e=>t.blocks[e],getCardList:t=>e=>t.cardList[e]},mutations:{addBlockSrc(t,{src:e}){t.blocks.push(e)},addCardList(t,{data:e}){t.cardList.push({id:e.id,name:e.name,count:e.count,cost:e.cost,map:JSON.parse("["+e.map+"]")})},createUserData:function(t){if(null==localStorage.getItem("userData")){console.log("新規作成"),localStorage.setItem("userData","true");let e=[];e.push({name:"スターターデッキ",deck:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]});let s=JSON.stringify(e);localStorage.setItem("tb_deck",s),t.db_deck_list=JSON.parse(s)}else{console.log("データ取得");let e=localStorage.getItem("tb_deck");t.db_deck_list=JSON.parse(e)}}},actions:{addCardListAsync:function(t){const e="https://script.google.com/macros/s/AKfycbx1KFHoEykkjIe3Rn3LVo6_kLglJmK_KZE8uNbwfkgv3lrCQ6p3-JhFI2uADL8GcHdQ/exec";fetch(e).then((function(t){return t.json()})).then((function(e){for(let s in e)t.commit("addCardList",{data:e[s]})})).then((function(){t.state.isLoading=!1,console.log("done")}))}}}),i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAZQTFRF////nJychYaIkwAAACJJREFUeJxjYBgkgPE/ChgVGBUYFRgVGBUYFRgVoIHAIAEAZOcaq2ZoT28AAAAASUVORK5CYII=",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAFpQTFRF//93///f///L//95//8d//91//8t///j///Z//8h//9H//9B//8f//8p//9R//9N//8v//9l//9j//8x//877OwAiIgAkpIAiooA6OgA//89lJQApqYAlpYAWlyBpAAAARNJREFUeJztzsdxAzEQBdG/Igka0VvZ/NMU1wNg1d4wo0N3Av2k6s2xaqb5wlFQzeYKjoLnPyj4Cep/DfASNP8G4CNo/y3AQ9D9O4C9oP/3AGvB8B8AtoLxPwIsBdE/AtgJ4n8MsBIk/wRgI0j/KcBCkP0zwFOwXBVtmf1zQFhv3ou22YZpwG5/KNp+BwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPx3wPF0LtrpMg243u6Pon18fk0Brrfvn8L9ZgIZ/18Esv7nApn/M4Hs/6lADv9EII9/LJDLPxLI5z8K5PQfBPL69wK5/TuB/P6tQI7/RiDPfy34A/EMSQ/PQDqBAAAAAElFTkSuQmCC",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAFpQTFRF/813//Pf/+zL/855/60d/811/7It//Xj//HZ/64h/7xH/7pB/60f/7Ep/79R/75N/7Mv/8dl/8Zj/7Qx/7c77JYAiFYAkl0AilgA6JMA/7g9lF4ApmkAll8AOftDJwAAARNJREFUeJztzsdxAzEQBdG/Igka0VvZ/NMU1wNg1d4wo0N3Av2k6s2xaqb5wlFQzeYKjoLnPyj4Cep/DfASNP8G4CNo/y3AQ9D9O4C9oP/3AGvB8B8AtoLxPwIsBdE/AtgJ4n8MsBIk/wRgI0j/KcBCkP0zwFOwXBVtmf1zQFhv3ou22YZpwG5/KNp+BwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPx3wPF0LtrpMg243u6Pon18fk0Brrfvn8L9ZgIZ/18Esv7nApn/M4Hs/6lADv9EII9/LJDLPxLI5z8K5PQfBPL69wK5/TuB/P6tQI7/RiDPfy34A/EMSQ/PQDqBAAAAAElFTkSuQmCC";const u={class:"deckList"},k={class:"list"},p=["onClick"];function m(t,e,s,c,A,a){const r=(0,o.up)("Deck");return(0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("div",k,[(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.$store.state.db_deck_list,((t,e,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"name",key:s},[(0,o._)("ul",{class:"btn btn-outline-secondary",onClick:t=>a.selectDeck(e)},[(0,o._)("p",null,(0,n.zw)(t.name),1)],8,p)])))),128))]),(0,o.Wm)(r,{deck:A.myDeck},null,8,["deck"])])])}const g={class:"CardItem"},f={ref:"cardCanvas"},h={class:"name"},b={class:"count"},v=(0,o._)("p",{class:"sp"},"消費SP",-1),w={class:"cost"};function D(t,e,s,c,A,a){return(0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("button",{class:"card-item btn btn-outline-secondary",onClick:e[0]||(e[0]=(...t)=>a.select&&a.select(...t))},[(0,o._)("canvas",f,null,512),(0,o._)("p",h,(0,n.zw)(s.name),1),(0,o._)("div",b,[(0,o._)("p",null,(0,n.zw)(s.count),1)]),(0,o._)("div",null,[v,(0,o._)("p",w,(0,n.zw)(s.cost),1)])])])}var _={name:"CardItem",props:{id:Number,name:String,count:Number,cost:Number,map:Array,block:String,sp_block:String},data(){return{isSelect:!1}},mounted(){this.ctx=this.$refs.cardCanvas.getContext("2d"),this.imageDraw(this.map)},watch:{map:function(){this.imageDraw(this.map)}},methods:{imageDraw:function(t){let e=0;for(let s=0;s<8;s++)for(let c=0;c<8;c++){let o=new Image;switch(t[e]){case 0:o.src=this.$store.state.blocks[0];break;case 1:o.src=this.block;break;case 2:o.src=this.sp_block;break;default:break}o.onload=()=>{this.ctx.drawImage(o,36*c+6,18*s+3,36,18)},e++}},select:function(){console.log(this.id,this.name)}}},I=s(3744);const y=(0,I.Z)(_,[["render",D]]);var C=y;const L={class:"container"};var B={__name:"Deck",props:{deck:Array},setup(t){const e=t;return(t,s)=>((0,o.wg)(),(0,o.iD)("div",L,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.deck,((t,e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s},[(0,o.Wm)(C,{id:t.id,name:t.name,count:t.count,cost:t.cost,map:t.map,block:(0,A.SU)(r).state.blocks[1],sp_block:(0,A.SU)(r).state.blocks[2]},null,8,["id","name","count","cost","map","block","sp_block"])])))),128))]))}};const S=(0,I.Z)(B,[["__scopeId","data-v-1dc77491"]]);var O=S,P={name:"CardListView",components:{Deck:O},props:{},data(){return{myDeck:[]}},methods:{loadDeck:function(){this.myDeck.splice(0);let t=this.$store.state.db_deck_list[this.$store.state.currentDeck].deck;t.forEach((t=>this.myDeck.push(this.$store.getters.getCardList(t)))),console.log(this.myDeck)},selectDeck:function(t){this.$store.state.currentDeck=t,this.loadDeck()}},created(){this.loadDeck()}};const F=(0,I.Z)(P,[["render",m],["__scopeId","data-v-4cfdfbc1"]]);var N=F;const Q=t=>((0,o.dD)("data-v-b5a8488e"),t=t(),(0,o.Cn)(),t),x={class:"post"},E=Q((()=>(0,o._)("div",null,[(0,o._)("label",null,"デッキ名"),(0,o._)("input",{type:"text"})],-1))),J=Q((()=>(0,o._)("h4",null,"カード一覧",-1)));function R(t,e,s,c,n,A){const a=(0,o.up)("DeckInfo"),r=(0,o.up)("CardList");return(0,o.wg)(),(0,o.iD)("div",x,[E,(0,o.Wm)(a,{deck:A.loadDeck,class:"deck-list"},null,8,["deck"]),J,(0,o.Wm)(r,{class:"card-list"})])}const j={class:"container"};function z(t,e,s,c,n,A){const a=(0,o.up)("CardItem");return(0,o.wg)(),(0,o.iD)("div",j,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.$store.state.cardList,((t,e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s},[(0,o.Wm)(a,{id:t.id,name:t.name,count:t.count,cost:t.cost,map:t.map,block:this.$store.state.blocks[1],sp_block:this.$store.state.blocks[2]},null,8,["id","name","count","cost","map","block","sp_block"])])))),128))])}var K={name:"CardListView",components:{CardItem:C},data(){return{}},methods:{}};const U=(0,I.Z)(K,[["render",z],["__scopeId","data-v-f0885af8"]]);var Z=U;const M={class:"container"};function Y(t,e,s,c,n,A){const a=(0,o.up)("CardItem");return(0,o.wg)(),(0,o.iD)("div",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.cardList,((t,e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s},[(0,o.Wm)(a,{name:t.name,count:t.count,cost:t.cost,map:t.map,block:this.$store.state.blocks[1],sp_block:this.$store.state.blocks[2]},null,8,["name","count","cost","map","block","sp_block"])])))),128))])}var G={name:"CardListView",components:{CardItem:C},props:{deck:Array},data(){return{cardList:[]}},mounted(){this.loadDeck(this.deck)},methods:{loadDeck:function(t){this.cardList=t}}};const H=(0,I.Z)(G,[["render",Y],["__scopeId","data-v-5663cc5b"]]);var V=H,$={components:{CardList:Z,DeckInfo:V},props:{},data(){return{myDeck:[],cardList:[]}},methods:{hoge:function(){this.cardList.push(0),this.loadDeck=0}},computed:{loadDeck:{get:function(){return this.myDeck},set:function(t){this.myDeck.push(this.$store.state.cardList[t])}}}};const T=(0,I.Z)($,[["render",R],["__scopeId","data-v-b5a8488e"]]);var q=T;const W=(0,o._)("h1",null,"ナワバトラー",-1),X={id:"overlay"},tt={id:"content"},et=(0,o._)("h5",{class:"modal-title"},"Modal title",-1),st={class:"modal-body"},ct=(0,o._)("p",null,"Modal body text goes here.",-1),ot={key:0},nt=(0,o._)("p",null,"読み込み中",-1),At=[nt],at={key:1,id:"top-list"},rt={class:"modal-footer"};var it={__name:"App",setup(t){function e(){r.commit("addBlockSrc",{src:i}),r.commit("addBlockSrc",{src:l}),r.commit("addBlockSrc",{src:d}),r.dispatch("addCardListAsync"),r.commit("createUserData")}e(),console.log("db:",r.state.db_deck_list);const s=(0,A.iH)(1),a=(0,A.iH)(!1),u=()=>{console.log(r.state.currentDeck),a.value=!0},k=()=>{console.log("close"),a.value=!1};return(t,e)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[W,(0,o._)("label",null,"選択中のデッキ ： "+(0,n.zw)((0,A.SU)(r).state.db_deck_list[(0,A.SU)(r).state.currentDeck].name),1),(0,o._)("button",{onClick:u},"デッキ変更"),(0,o.wy)((0,o._)("div",X,[(0,o._)("div",tt,[(0,o._)("div",{class:"modal-header"},[et,(0,o._)("button",{type:"button",class:"btn-close",onClick:k})]),(0,o._)("div",st,[ct,(0,A.SU)(r).state.isLoading?((0,o.wg)(),(0,o.iD)("div",ot,At)):((0,o.wg)(),(0,o.iD)("div",at,[1==s.value?((0,o.wg)(),(0,o.j4)(N,{key:0})):(0,o.kq)("",!0),2==s.value?((0,o.wg)(),(0,o.j4)(q,{key:1})):(0,o.kq)("",!0)]))]),(0,o._)("div",rt,[(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=t=>s.value=1)}," Close "),(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=t=>s.value=2)}," Save changes ")])])],512),[[c.F8,a.value]])],64))}};const lt=it;var dt=lt;(0,c.ri)(dt).use(r).mount("#app")}},e={};function s(c){var o=e[c];if(void 0!==o)return o.exports;var n=e[c]={exports:{}};return t[c](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,c,o,n){if(!c){var A=1/0;for(l=0;l<t.length;l++){c=t[l][0],o=t[l][1],n=t[l][2];for(var a=!0,r=0;r<c.length;r++)(!1&n||A>=n)&&Object.keys(s.O).every((function(t){return s.O[t](c[r])}))?c.splice(r--,1):(a=!1,n<A&&(A=n));if(a){t.splice(l--,1);var i=o();void 0!==i&&(e=i)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[c,o,n]}}(),function(){s.d=function(t,e){for(var c in e)s.o(e,c)&&!s.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:e[c]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,c){var o,n,A=c[0],a=c[1],r=c[2],i=0;if(A.some((function(e){return 0!==t[e]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(r)var l=r(s)}for(e&&e(c);i<A.length;i++)n=A[i],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(l)},c=self["webpackChunktest_project"]=self["webpackChunktest_project"]||[];c.forEach(e.bind(null,0)),c.push=e.bind(null,c.push.bind(c))}();var c=s.O(void 0,[998],(function(){return s(3198)}));c=s.O(c)})();
//# sourceMappingURL=app.0b550c87.js.map