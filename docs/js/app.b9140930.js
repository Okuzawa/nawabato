(function(){"use strict";var t={8261:function(t,e,o){var n=o(9963),s=o(6252),c=o(3577),a=o(2262),A=(o(7658),o(3907)),l=(0,A.MT)({state:{isLoading:!0,currentDeck:0,db_deck_list:[],blocks:[],cardList:[]},getters:{getBlockSrc:t=>e=>t.blocks[e],getCardList:t=>e=>t.cardList[e]},mutations:{addBlockSrc(t,{src:e}){t.blocks.push(e)},addCardList(t,{data:e}){t.cardList.push({id:e.id,name:e.name,count:e.count,cost:e.cost,map:JSON.parse("["+e.map+"]")})},createUserData:function(t){if(null==localStorage.getItem("userData")){console.log("新規作成"),localStorage.setItem("userData","true");let e=[];e.push({name:"スターターデッキ",deck:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),e.push({name:"temp",deck:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]});let o=JSON.stringify(e);localStorage.setItem("tb_deck",o),t.db_deck_list=JSON.parse(o)}else{console.log("データ取得");let e=localStorage.getItem("tb_deck");t.db_deck_list=JSON.parse(e)}}},actions:{addCardListAsync:function(t){const e="https://script.google.com/macros/s/AKfycbx1KFHoEykkjIe3Rn3LVo6_kLglJmK_KZE8uNbwfkgv3lrCQ6p3-JhFI2uADL8GcHdQ/exec";fetch(e).then((function(t){return t.json()})).then((function(e){for(let o in e)t.commit("addCardList",{data:e[o]})})).then((function(){t.state.isLoading=!1,console.log("done")}))}}}),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAAQMAAAD58POIAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAZQTFRF////nJychYaIkwAAACJJREFUeJxjYBgkgPE/ChgVGBUYFRgVGBUYFRgVoIHAIAEAZOcaq2ZoT28AAAAASUVORK5CYII=",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAFpQTFRF//93///f///L//95//8d//91//8t///j///Z//8h//9H//9B//8f//8p//9R//9N//8v//9l//9j//8x//877OwAiIgAkpIAiooA6OgA//89lJQApqYAlpYAWlyBpAAAARNJREFUeJztzsdxAzEQBdG/Igka0VvZ/NMU1wNg1d4wo0N3Av2k6s2xaqb5wlFQzeYKjoLnPyj4Cep/DfASNP8G4CNo/y3AQ9D9O4C9oP/3AGvB8B8AtoLxPwIsBdE/AtgJ4n8MsBIk/wRgI0j/KcBCkP0zwFOwXBVtmf1zQFhv3ou22YZpwG5/KNp+BwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPx3wPF0LtrpMg243u6Pon18fk0Brrfvn8L9ZgIZ/18Esv7nApn/M4Hs/6lADv9EII9/LJDLPxLI5z8K5PQfBPL69wK5/TuB/P6tQI7/RiDPfy34A/EMSQ/PQDqBAAAAAElFTkSuQmCC",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAFpQTFRF/813//Pf/+zL/855/60d/811/7It//Xj//HZ/64h/7xH/7pB/60f/7Ep/79R/75N/7Mv/8dl/8Zj/7Qx/7c77JYAiFYAkl0AilgA6JMA/7g9lF4ApmkAll8AOftDJwAAARNJREFUeJztzsdxAzEQBdG/Igka0VvZ/NMU1wNg1d4wo0N3Av2k6s2xaqb5wlFQzeYKjoLnPyj4Cep/DfASNP8G4CNo/y3AQ9D9O4C9oP/3AGvB8B8AtoLxPwIsBdE/AtgJ4n8MsBIk/wRgI0j/KcBCkP0zwFOwXBVtmf1zQFhv3ou22YZpwG5/KNp+BwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPx3wPF0LtrpMg243u6Pon18fk0Brrfvn8L9ZgIZ/18Esv7nApn/M4Hs/6lADv9EII9/LJDLPxLI5z8K5PQfBPL69wK5/TuB/P6tQI7/RiDPfy34A/EMSQ/PQDqBAAAAAElFTkSuQmCC";const u={class:"deckList"},p={class:"list"},k=["onClick"];function m(t,e,o,n,a,A){const l=(0,s.up)("Deck");return(0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",p,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$store.state.db_deck_list,((t,e,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"name",key:o},[(0,s._)("ul",{class:"btn btn-outline-secondary",onClick:t=>A.selectDeck(e)},[(0,s._)("p",null,(0,c.zw)(t.name),1)],8,k)])))),128))]),(0,s.Wm)(l,{deck:a.myDeck},null,8,["deck"])])])}const g={class:"CardItem"},h={ref:"cardCanvas"},f={class:"name"},v={class:"count"},b=(0,s._)("p",{class:"sp"},"消費SP",-1),w={class:"cost"};function _(t,e,o,n,a,A){return(0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("button",{class:"card-item btn btn-outline-secondary",onClick:e[0]||(e[0]=(...t)=>A.select&&A.select(...t))},[(0,s._)("canvas",h,null,512),(0,s._)("p",f,(0,c.zw)(o.name),1),(0,s._)("div",v,[(0,s._)("p",null,(0,c.zw)(o.count),1)]),(0,s._)("div",null,[b,(0,s._)("p",w,(0,c.zw)(o.cost),1)])])])}var D={name:"CardItem",props:{id:Number,name:String,count:Number,cost:Number,map:Array,block:String,sp_block:String},data(){return{isSelect:!1}},mounted(){this.ctx=this.$refs.cardCanvas.getContext("2d"),this.imageDraw(this.map)},watch:{map:function(){this.imageDraw(this.map)}},methods:{imageDraw:function(t){let e=0;for(let o=0;o<8;o++)for(let n=0;n<8;n++){let s=new Image;switch(t[e]){case 0:s.src=this.$store.state.blocks[0];break;case 1:s.src=this.block;break;case 2:s.src=this.sp_block;break;default:break}s.onload=()=>{this.ctx.drawImage(s,36*n+6,18*o+3,36,18)},e++}},select:function(){console.log(this.id,this.name)}}},C=o(3744);const I=(0,C.Z)(D,[["render",_]]);var y=I;const B={class:"container"};var L={__name:"Deck",props:{deck:Array},setup(t){const e=t;return(t,o)=>((0,s.wg)(),(0,s.iD)("div",B,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.deck,((t,e,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o},[(0,s.Wm)(y,{id:t.id,name:t.name,count:t.count,cost:t.cost,map:t.map,block:(0,a.SU)(l).state.blocks[1],sp_block:(0,a.SU)(l).state.blocks[2]},null,8,["id","name","count","cost","map","block","sp_block"])])))),128))]))}};const S=(0,C.Z)(L,[["__scopeId","data-v-1dc77491"]]);var F=S,O={name:"CardListView",components:{Deck:F},props:{},data(){return{myDeck:[]}},methods:{loadDeck:function(){this.myDeck.splice(0);let t=this.$store.state.db_deck_list[this.$store.state.currentDeck].deck;t.forEach((t=>this.myDeck.push(this.$store.getters.getCardList(t)))),console.log(this.myDeck)},selectDeck:function(t){this.$store.state.currentDeck=t,this.loadDeck()}},created(){this.loadDeck()}};const P=(0,C.Z)(O,[["render",m],["__scopeId","data-v-54e57b21"]]);var N=P;const E={class:"post"},Q=(0,s._)("div",null,[(0,s._)("label",null,"デッキ名"),(0,s._)("input",{type:"text"}),(0,s._)("button",null,"保存")],-1);function x(t,e,o,n,c,a){const A=(0,s.up)("Button"),l=(0,s.up)("DeckInfo"),r=(0,s.up)("HelloWorld"),i=(0,s.up)("CardList");return(0,s.wg)(),(0,s.iD)("div",E,[(0,s.Wm)(A,{onClickEvent:a.hoge},null,8,["onClickEvent"]),Q,(0,s.Wm)(l,{deck:a.loadDeck},null,8,["deck"]),(0,s.Wm)(r,{msg:"カード一覧"}),(0,s.Wm)(i)])}const z={class:"container"};function J(t,e,o,n,c,a){const A=(0,s.up)("CardItem");return(0,s.wg)(),(0,s.iD)("div",z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$store.state.cardList,((t,e,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o},[(0,s.Wm)(A,{id:t.id,name:t.name,count:t.count,cost:t.cost,map:t.map,block:this.$store.state.blocks[1],sp_block:this.$store.state.blocks[2]},null,8,["id","name","count","cost","map","block","sp_block"])])))),128))])}var R={name:"CardListView",components:{CardItem:y},data(){return{}},methods:{}};const j=(0,C.Z)(R,[["render",J],["__scopeId","data-v-f0885af8"]]);var Z=j;const K={class:"container"};function U(t,e,o,n,c,a){const A=(0,s.up)("CardItem");return(0,s.wg)(),(0,s.iD)("div",K,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.cardList,((t,e,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o},[(0,s.Wm)(A,{name:t.name,count:t.count,cost:t.cost,map:t.map,block:this.$store.state.blocks[1],sp_block:this.$store.state.blocks[2]},null,8,["name","count","cost","map","block","sp_block"])])))),128))])}var H={name:"CardListView",components:{CardItem:y},props:{deck:Array},data(){return{cardList:[]}},mounted(){this.loadDeck(this.deck)},methods:{loadDeck:function(t){this.cardList=t}}};const M=(0,C.Z)(H,[["render",U],["__scopeId","data-v-5663cc5b"]]);var Y=M;const G={class:"hello"};function V(t,e,o,n,a,A){return(0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("h1",null,(0,c.zw)(o.msg),1)])}var $={name:"HelloWorld",props:{msg:String}};const W=(0,C.Z)($,[["render",V],["__scopeId","data-v-7904a567"]]);var T=W;const q={class:"hogeButton"},X=(0,s._)("p",null,"hoge",-1),tt=[X];function et(t,e,o,n,c,a){return(0,s.wg)(),(0,s.iD)("div",q,[(0,s._)("button",{class:"temp",onClick:e[0]||(e[0]=e=>{a.onFocus(),t.$emit("clickEvent")})},tt)])}var ot={name:"hogeButton",props:{clickEvent:Function},data(){return{focus:this.onFocus}},mounted(){},methods:{onFocus:function(){console.log("フォーカスイン")},onBlur:function(){console.log("フォーカスアウト")},onChange:function(){console.log("値変更")}}};const nt=(0,C.Z)(ot,[["render",et]]);var st=nt,ct={components:{HelloWorld:T,CardList:Z,DeckInfo:Y,Button:st},props:{},data(){return{myDeck:[],cardList:[]}},methods:{hoge:function(){this.cardList.push(0),this.loadDeck=0}},computed:{loadDeck:{get:function(){return this.myDeck},set:function(t){this.myDeck.push(this.$store.state.cardList[t])}}}};const at=(0,C.Z)(ct,[["render",x]]);var At=at;const lt=(0,s._)("h1",null,"ナワバトラー",-1),rt={id:"overlay"},it={id:"content"},dt=(0,s._)("h5",{class:"modal-title"},"Modal title",-1),ut={class:"modal-body"},pt=(0,s._)("p",null,"Modal body text goes here.",-1),kt={key:0},mt=(0,s._)("p",null,"読み込み中",-1),gt=[mt],ht={key:1},ft={class:"modal-footer"};var vt={__name:"App",setup(t){function e(){l.commit("addBlockSrc",{src:r}),l.commit("addBlockSrc",{src:i}),l.commit("addBlockSrc",{src:d}),l.dispatch("addCardListAsync"),l.commit("createUserData")}e(),console.log("db:",l.state.db_deck_list);const o=(0,a.iH)(1),A=(0,a.iH)(!1),u=()=>{console.log(l.state.currentDeck),A.value=!0},p=()=>{console.log("close"),A.value=!1};return(t,e)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[lt,(0,s._)("label",null,"選択中のデッキ ： "+(0,c.zw)((0,a.SU)(l).state.db_deck_list[(0,a.SU)(l).state.currentDeck].name),1),(0,s._)("button",{onClick:u},"デッキ変更"),(0,s.wy)((0,s._)("div",rt,[(0,s._)("div",it,[(0,s._)("div",{class:"modal-header"},[dt,(0,s._)("button",{type:"button",class:"btn-close",onClick:p})]),(0,s._)("div",ut,[pt,(0,a.SU)(l).state.isLoading?((0,s.wg)(),(0,s.iD)("div",kt,gt)):((0,s.wg)(),(0,s.iD)("div",ht,[1==o.value?((0,s.wg)(),(0,s.j4)(N,{key:0})):(0,s.kq)("",!0),2==o.value?((0,s.wg)(),(0,s.j4)(At,{key:1})):(0,s.kq)("",!0)]))]),(0,s._)("div",ft,[(0,s._)("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=t=>o.value=1)}," Close "),(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=t=>o.value=2)}," Save changes ")])])],512),[[n.F8,A.value]])],64))}};const bt=vt;var wt=bt;(0,n.ri)(wt).use(l).mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var c=e[n]={exports:{}};return t[n](c,c.exports,o),c.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,c){if(!n){var a=1/0;for(i=0;i<t.length;i++){n=t[i][0],s=t[i][1],c=t[i][2];for(var A=!0,l=0;l<n.length;l++)(!1&c||a>=c)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(A=!1,c<a&&(a=c));if(A){t.splice(i--,1);var r=s();void 0!==r&&(e=r)}}return e}c=c||0;for(var i=t.length;i>0&&t[i-1][2]>c;i--)t[i]=t[i-1];t[i]=[n,s,c]}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,c,a=n[0],A=n[1],l=n[2],r=0;if(a.some((function(e){return 0!==t[e]}))){for(s in A)o.o(A,s)&&(o.m[s]=A[s]);if(l)var i=l(o)}for(e&&e(n);r<a.length;r++)c=a[r],o.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return o.O(i)},n=self["webpackChunktest_project"]=self["webpackChunktest_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(8261)}));n=o.O(n)})();
//# sourceMappingURL=app.b9140930.js.map