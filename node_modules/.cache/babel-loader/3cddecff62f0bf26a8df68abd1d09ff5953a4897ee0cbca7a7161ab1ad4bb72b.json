{"ast":null,"code":"export default {\n  name: \"CardItem\",\n  props: {\n    id: Number,\n    name: String,\n    count: Number,\n    cost: Number,\n    map: Array,\n    block: String,\n    sp_block: String\n  },\n  data() {\n    return {\n      isSelect: false\n    };\n  },\n  mounted() {\n    this.ctx = this.$refs.cardCanvas.getContext(\"2d\");\n    this.imageDraw(this.map);\n  },\n  methods: {\n    imageDraw: function (map) {\n      let index = 0;\n      for (let y = 0; y < 8; y++) {\n        for (let x = 0; x < 8; x++) {\n          let image = new Image();\n          switch (map[index]) {\n            case 0:\n              image.src = this.$store.state.blocks[0];\n              break;\n            case 1:\n              image.src = this.block;\n              break;\n            case 2:\n              image.src = this.sp_block;\n              break;\n            default:\n              break;\n          }\n          image.onload = () => {\n            this.ctx.drawImage(image, x * 36 + 6, y * 18 + 3, 36, 18);\n          };\n          index++;\n        }\n      }\n    },\n    select: function () {\n      console.log(this.id, this.name);\n    }\n  }\n};","map":{"version":3,"mappings":"AAiBA,eAAe;EACbA,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE;IACLC,EAAE,EAACC,MAAM;IACTH,IAAI,EAAEI,MAAM;IACZC,KAAK,EAAEF,MAAM;IACbG,IAAI,EAAEH,MAAM;IACZI,GAAG,EAAEC,KAAK;IACVC,KAAK,EAACL,MAAM;IACZM,QAAQ,EAACN;EACX,CAAC;EACDO,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAC;IACX,CAAC;EACH,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACC,GAAE,GAAI,IAAI,CAACC,KAAK,CAACC,UAAU,CAACC,UAAU,CAAC,IAAI,CAAC;IACjD,IAAI,CAACC,SAAS,CAAC,IAAI,CAACX,GAAG,CAAC;EAC1B,CAAC;EACDY,OAAO,EAAE;IACPD,SAAS,EAAE,UAAUX,GAAG,EAAE;MACxB,IAAIa,KAAI,GAAI,CAAC;MACb,KAAK,IAAIC,IAAI,CAAC,EAAEA,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QAC1B,KAAK,IAAIC,IAAI,CAAC,EAAEA,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;UAC1B,IAAIC,KAAI,GAAI,IAAIC,KAAK,EAAE;UACvB,QAAQjB,GAAG,CAACa,KAAK,CAAC;YAChB,KAAK,CAAC;cACJG,KAAK,CAACE,GAAE,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC;cACvC;YACF,KAAK,CAAC;cACJL,KAAK,CAACE,GAAE,GAAI,IAAI,CAAChB,KAAK;cACtB;YACF,KAAK,CAAC;cACJc,KAAK,CAACE,GAAE,GAAI,IAAI,CAACf,QAAQ;cACzB;YACF;cACE;UAAK;UAETa,KAAK,CAACM,MAAK,GAAI,MAAM;YACnB,IAAI,CAACf,GAAG,CAACgB,SAAS,CAACP,KAAK,EAAED,IAAI,EAAE,GAAC,CAAC,EAAED,IAAI,EAAE,GAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;UACvD,CAAC;UACDD,KAAK,EAAE;QACT;MACF;IACF,CAAC;IACDW,MAAM,EAAC,YAAY;MACjBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC/B,EAAE,EAAC,IAAI,CAACF,IAAI,CAAC;IAChC;EACF;AACF,CAAC","names":["name","props","id","Number","String","count","cost","map","Array","block","sp_block","data","isSelect","mounted","ctx","$refs","cardCanvas","getContext","imageDraw","methods","index","y","x","image","Image","src","$store","state","blocks","onload","drawImage","select","console","log"],"sourceRoot":"","sources":["C:\\Users\\白狼S５\\nawabato\\src\\components\\parts\\CardItem.vue"],"sourcesContent":["<template>\r\n  <div class=\"CardItem\">\r\n    <button class=\"card-item btn btn-outline-secondary\" @click=\"select\">\r\n      <canvas ref=\"cardCanvas\"></canvas>\r\n      <p class=\"name\">{{ name }}</p>\r\n      <div class=\"count\">\r\n        <p>{{ count }}</p>\r\n      </div>\r\n      <div>\r\n        <p class=\"sp\">消費SP</p>\r\n        <p class=\"cost\">{{ cost }}</p>\r\n      </div>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CardItem\",\r\n  props: {\r\n    id:Number,\r\n    name: String,\r\n    count: Number,\r\n    cost: Number,\r\n    map: Array,\r\n    block:String,\r\n    sp_block:String,\r\n  },\r\n  data() {\r\n    return {\r\n      isSelect:false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.ctx = this.$refs.cardCanvas.getContext(\"2d\");\r\n    this.imageDraw(this.map);\r\n  },\r\n  methods: {\r\n    imageDraw: function (map) {\r\n      let index = 0;\r\n      for (let y = 0; y < 8; y++) {\r\n        for (let x = 0; x < 8; x++) {\r\n          let image = new Image();\r\n          switch (map[index]) {\r\n            case 0:\r\n              image.src = this.$store.state.blocks[0];\r\n              break;\r\n            case 1:\r\n              image.src = this.block;\r\n              break;\r\n            case 2:\r\n              image.src = this.sp_block;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          image.onload = () => {\r\n            this.ctx.drawImage(image, x * 36+6, y * 18+3, 36, 18);\r\n          };\r\n          index++;\r\n        }\r\n      }\r\n    },\r\n    select:function () {\r\n      console.log(this.id,this.name);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.card-item {\r\n  width: 90px;\r\n  height: 150px;\r\n}\r\n.card-item canvas {\r\n  background-color: #a7a6a6;\r\n  width: 80px;\r\n  height: 80px;\r\n  margin: 0px -10px;\r\n}\r\n.card-item .name {\r\n  font-size: 0.5em;\r\n  line-height: 1;\r\n}\r\n.card-item .count {\r\n  margin: 1px;\r\n  font-size: 1.5em;\r\n}\r\n.card-item .sp {\r\n  font-size: 0.3em;\r\n}\r\n.card-item .cost {\r\n  font-size: 1em;\r\n}\r\n.card-item div {\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  line-height: 0.1;\r\n  margin: -10px 0px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}